@import "tailwindcss";

@custom-variant dark (&:is(.dark *));

/* Touch/pointer device detection variants */
@custom-variant pointer-coarse (@media (pointer: coarse));
@custom-variant pointer-fine (@media (pointer: fine));
@custom-variant hover-hover (@media (hover: hover));
@custom-variant hover-none (@media (hover: none));

@utility container {
  margin-inline: auto;
  padding-inline: 2rem;
  @media (width >= --theme(--breakpoint-sm)) {
    max-width: none;
  }
  @media (width >= 1400px) {
    max-width: 1400px;
  }
}

@theme {
  --font-inter: var(--font-inter);
  --font-ibm-arabic: var(--font-ibm-plex-arabic);

  --color-brand-blue-light: #3293ce;
  --color-brand-blue: #2f8cca;
  --color-brand-blue-dark: #30489c;
  --color-brand-gray: #4f585f;

  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));

  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));

  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));

  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));

  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));

  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));

  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));

  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));

  --background-image-gradient-brand: linear-gradient(
    to right,
    #3293ce,
    #2f8cca,
    #30489c
  );
  --background-image-gradient-brand-vertical: linear-gradient(
    to bottom,
    #3293ce,
    #2f8cca,
    #30489c
  );
  --background-image-gradient-brand-light: linear-gradient(
    to right,
    rgba(50, 147, 206, 0.1),
    rgba(47, 140, 202, 0.1),
    rgba(48, 72, 156, 0.1)
  );
  --background-image-gradient-brand-vertical-light: linear-gradient(
    to bottom,
    rgba(50, 147, 206, 0.1),
    rgba(47, 140, 202, 0.1),
    rgba(48, 72, 156, 0.1)
  );
  --background-image-gradient-brand-to-transparent: linear-gradient(
    to bottom,
    rgba(50, 147, 206, 0.1),
    transparent,
    rgba(48, 72, 156, 0.1)
  );

  --radius-lg: var(--radius);
  --radius-md: calc(var(--radius) - 2px);
  --radius-sm: calc(var(--radius) - 4px);

  --animate-accordion-down: accordion-down 0.2s ease-out;
  --animate-accordion-up: accordion-up 0.2s ease-out;

  @keyframes accordion-down {
    from {
      height: 0;
    }
    to {
      height: var(--radix-accordion-content-height);
    }
  }
  @keyframes accordion-up {
    from {
      height: var(--radix-accordion-content-height);
    }
    to {
      height: 0;
    }
  }
}

/*
  The default border color has changed to `currentcolor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentcolor);
  }
}

@layer utilities {
  /* Base HTML Styles */
  html {
    scroll-behavior: smooth;
    scroll-padding-top: 56px; /* Page header height */
  }

  @media (min-width: 768px) {
    html {
      scroll-padding-top: 112px; /* Page header + Editor header */
    }
  }

  body {
    font-family: Arial, Helvetica, sans-serif;
  }

  /* Smooth Scrolling & Scrollbar Styles */
  ::-webkit-scrollbar {
    @apply h-2 w-2;
  }

  ::-webkit-scrollbar-track {
    @apply bg-muted/50 rounded-full;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-primary/40 hover:bg-primary/70 rounded-full transition-colors;
  }

  ::-webkit-scrollbar-corner {
    @apply bg-transparent;
  }

  /* Selection Styles */
  ::selection {
    @apply bg-primary/20 text-primary;
  }

  /* Focus Styles - Enhanced for accessibility */
  :focus-visible {
    @apply ring-primary ring-offset-background ring-2 ring-offset-2 outline-hidden;
  }

  /* Ensure focus is visible in high contrast mode */
  @media (prefers-contrast: high) {
    :focus-visible {
      @apply ring-4 ring-offset-4;
    }
  }

  /* Transition Styles */
  .transition-all {
    @apply duration-300 ease-in-out;
  }
}

@layer base {
  :root {
    /* Brand Colors */
    --brand-blue-light: 201 58% 50%; /* #3293CE */
    --brand-blue: 204 62% 48%; /* #2F8CCA */
    --brand-blue-dark: 225 53% 40%; /* #30489C */
    --brand-gray: 210 9% 34%; /* #4F585F */

    /* Existing theme colors */
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;
    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;
    /* Primary red */
    --primary: 355 79% 56%;
    --primary-foreground: 0 0% 100%;
    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;
    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;
    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 355 79% 56%;
    --radius: 0.75rem;
    --chart-1: 12 76% 61%;
    --chart-2: 173 58% 39%;
    --chart-3: 197 37% 24%;
    --chart-4: 43 74% 66%;
    --chart-5: 27 87% 67%;
  }

  .dark {
    --background: 240 10% 4%;
    --foreground: 0 0% 95%;
    --card: 240 10% 4%;
    --card-foreground: 0 0% 95%;
    --popover: 240 10% 4%;
    --popover-foreground: 0 0% 95%;
    /* Primary red for dark: slightly brighter */
    --primary: 355 82% 62%;
    --primary-foreground: 0 0% 100%;
    --secondary: 240 4% 16%;
    --secondary-foreground: 0 0% 95%;
    --muted: 240 4% 16%;
    --muted-foreground: 240 5% 65%;
    --accent: 240 4% 16%;
    --accent-foreground: 0 0% 95%;
    --destructive: 0 62.8% 50%;
    --destructive-foreground: 0 0% 100%;
    --border: 240 4% 16%;
    --input: 240 4% 16%;
    --ring: 355 82% 62%;
    --chart-1: 220 70% 50%;
    --chart-2: 160 60% 45%;
    --chart-3: 30 80% 55%;
    --chart-4: 280 65% 60%;
    --chart-5: 340 75% 55%;
  }

  /* Enhanced Dark Mode Scrollbar */
  .dark ::-webkit-scrollbar-track {
    @apply bg-muted/30;
  }

  .dark ::-webkit-scrollbar-thumb {
    @apply bg-primary/50 hover:bg-primary/80;
  }

  /* Dark Mode Selection */
  .dark ::selection {
    @apply bg-primary/30 text-primary;
  }
}

/* Image fade-in animation for performance optimization */
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

/* Floating Action Bar Animations */
@keyframes slideUpFade {
  from {
    opacity: 0;
    transform: translateY(100%);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  html {
    scroll-behavior: auto;
  }

  @keyframes slideUpFade {
    from,
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
}
